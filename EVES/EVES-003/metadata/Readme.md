# Reference metadata for ENVITED-X Assets

This folder contains the reference example for the metadata specifications outlined in [EVES-003](../eves-003.md) to demonstrate how metadata is structured ENVITED-X Data Space.

## File Structure

📁 `metadata/`

- 📄 `bafybeidhmknqn4cofjlphtrxpyvruur42t55bfmtcldyb74l2ob22kjjdu.zip`  
  *Example HD map renamed to CID v1.*
- 📄 `tzip21_manifest.json`  
  *Generated metadata file for IPFS referenced in the TZIP21 token metadata containing remote URLs.*
- 📄 `tzip21_token_metadata-schema.json`  
  *TZIP21 json schema to validate the token metadata.*
- 📄 `tzip21_token_metadata.json`  
  *Token metadata for minting assets.*

The shacles can be found [here](https://github.com/GAIA-X4PLC-AAD/ontology-management-base/releases/tag/v0.0.4):

📁 `shacls-and-ontologies/used-shacls/`

- 📄 `manifest_shacl.ttl`  
  *SHACL file for validating the `manifest_reference.json`.*  
- 📄 `domainMetadata_shacl.ttl`  
  *SHACL file for validating the `domainMetadata.json`.*  

## Key Concepts

### Gaia-X Compliance

The metadata files follow the [Gaia-X Policy Rules Compliance Document (Release 24.11)](https://docs.gaia-x.eu/policy-rules-committee/compliance-document/24.11/). Compatibility with this release is a **TODO** in [EVES-003](../eves-003.md).

### CID-Based Identification

All assets and metadata files are identified using CID v1, ensuring interoperability and immutability across the IPFS-based ENVITED-X Data Space.

### TZIP-21 Metadata

The `tzip21_manifest.json` and `tzip21_token_metadata.json` demonstrate the mapping of asset information to TZIP-21 token metadata standards, as detailed in [EVES-003](../eves-003.md).

## How to Use This Reference Implementation

1. **Validate Metadata**:
   - Use the referenced SHACL files in the `shacls-and-ontologies/used-shacls/` folder to validate `manifest_reference.json` and `domainMetadata.json`.
   - Ensure all required files and URLs referenced in the manifest are accessible.

2. **Prepare Metadata for IPFS**:
   - Upload the `tzip21_manifest.json` and associated files to IPFS.
   - Convert relative file paths in `manifest_reference.json` to CID-based IPFS URLs using the `tzip21_manifest.json`.

3. **Integrate with ENVITED-X Data Space**:
   - Mint tokens using `tzip21_token_metadata.json`.

4. **Test and Debug**:
   - Compare local CID calculations with those generated by Pinata to ensure consistency.
   - Use this implementation as a baseline to adapt to your specific asset requirements.

## Related Documentation

- [EVES-003: ENVITED Asset Definition and Upload Process](../eves-003.md)
- [Gaia-X 4 PLC-AAD Manifest Ontology](https://github.com/ASCS-eV/ontology-management-base/tree/main/manifest)
- [Pinata Documentation: Pinning CIDs](https://docs.pinata.cloud/web3/pinning/pinata-metadata#pinataoptions)
- [TZIP-21 Metadata Standard](https://tzip.tezos.com/proposal/tzip-21/)
